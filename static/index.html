<!DOCTYPE html>
<html>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="js/endpoints.js"></script>
    <link rel="stylesheet" href="css/styling.css">
    <body>
        <form id="signup-form" onsubmit="signup()" style="border:1px solid #ccc">
            <div class="container">
                <h1>Sign Up</h1>
                <p>Please fill in this form to create an account.</p>
                <hr>

                <label for="first_name"><b>First Name</b></label>
                <input type="text" placeholder="Enter First Name" name="first_name" required>

                <label for="last_name"><b>Last Name</b></label>
                <input type="text" placeholder="Enter Last Name" name="last_name" required>

                <label for="email"><b>Email</b></label>
                <input type="text" placeholder="Enter Email" name="email" required>

                <label for="political_party"><b>Select Your Political Party</b></label><br>
                <select id="political-party" name="political_party">
                    <option value="">Pick a party</option>
                    <option value="democrat">Democrat</option>
                    <option value="republican">Republican</option>
                    <option value="reform">Reform</option>
                    <option value="libertarian">Libertarian</option>
                    <option value="socialist">Socialist</option>
                    <option value="natural">Natural Law</option>
                    <option value="constitution">Constitution</option>
                    <option value="green">Green Parties</option>
                </select>
                <br>
                <br>

                <label for="email"><b>Username</b></label>
                <input type="text" placeholder="Enter Email" name="username" required>

                <label for="password"><b>Password</b></label>
                <input type="password" placeholder="Enter Password" name="password" required>


                <h1>Make sure you use Google Authenticator and scan the barcode using the APP. You need this to login.</h1>
                <img id="secret">

                <div class="clearfix">
                    <button type="submit" class="signupbtn">Sign Up</button>
                </div>

                <div class="clearfix">
                    <button onclick="location.href = './signin.html';" type="button" class="signinbtn">Have an account? Sign In</button>
                </div>
            </div>
        </form>

    </body>
    <script>
        $.ajax({
            dataType: "text",
            url: "https://localhost:8880/voting/tfa"
        }).then(function(data) {
            var tfaData = JSON.parse(data);
            $('#secret').attr('src', tfaData['data']);
            $('#secret').data('secret', tfaData['secret'])
        });
    </script>
</html>
